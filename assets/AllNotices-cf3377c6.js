import{a as E,u as F,r as n,D as S,k as C,z,f as O,j as e,h as l}from"./index-6555f7ab.js";import{N as I,a as f}from"./AllNotices.styled-1607361a.js";import{L as M}from"./Loader-ca3920f0.js";import{N as b,a as k}from"./noticeList.styled-653373fc.js";import{S as D}from"./StyledPagination.styled-baa8adcf.js";import"./notiflix-notify-aio-4ba589ba.js";import"./AttentionModalWrapper-b2e623dd.js";function H(){const{pathname:p}=E(),g=p.split("/")[2],[j]=F(),x=Object.fromEntries(j.entries()),[i,N]=n.useState(1),[c,r]=n.useState(12);n.useEffect(()=>{const t=()=>{const s=window.innerWidth;s<=768?r(11):s<=1024?r(10):r(12)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]);const{data:a,error:u,isLoading:d}=S({category:g,params:{page:i,limit:c,...x},refetchOnMountOrArgChange:!0}),m=C(z),{data:o}=O(void 0,{skip:!m});let h=[];m&&o&&o.user&&(h=o.user.favoritesArr);const P=(t,s)=>{N(s)};return e.jsxs(e.Fragment,{children:[d&&e.jsx(M,{}),!d&&e.jsxs(e.Fragment,{children:[e.jsx(b,{children:a.notices.length>0?a.notices.map(({_id:t,title:s,category:v,date:w,sex:L,location:y,avatarURL:A})=>e.jsx(k,{id:t,title:s,category:v,date:w,sex:L,location:y,avatarUrl:A,userFavoritesArr:h},t)):e.jsxs(I,{children:[e.jsx(f,{children:e.jsx("use",{href:l+"#iconPaw"})})," ","No Notices found"," ",e.jsx(f,{children:e.jsx("use",{href:l+"#iconPaw"})})]})}),e.jsx(D,{count:Math.ceil(a.totalCount/c),page:i,onChange:P,color:"primary"})]}),u&&u.message]})}export{H as default};
