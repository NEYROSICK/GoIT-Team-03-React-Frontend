import{u as j,r as t,F as v,k as N,z as P,f as S,j as e,a as A,b as F,C}from"./index-b6c81d7b.js";import{N as b}from"./NoticesSearch-86a81ae6.js";import{A as E,N as y,P as L,F as M,a as w,b as V,c as k,d as z}from"./filtersQueries-b3d4fa0f.js";import{N as O,S as Q}from"./NoMatchesFound-14f8f7df.js";import{L as G}from"./Loader-baf8ca4b.js";import{N as I,a as R}from"./noticeList.styled-e1386a04.js";import"./AttentionModalWrapper-43e68e94.js";import"./AllNotices.styled-3b3a0193.js";import"./notiflix-notify-aio-861ea9da.js";function B(){var x;const[r]=j(),m=Object.fromEntries(r.entries()),[s,h]=t.useState(1),[l,o]=t.useState(12);t.useEffect(()=>{const a=()=>{const c=window.innerWidth;c<=768?o(11):c<=1024?o(10):o(12)};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]);const{data:i,error:d,isLoading:u}=v({params:{page:s,limit:l,...m}}),f=N(P),{data:n}=S(void 0,{skip:!f}),p=f&&((x=n==null?void 0:n.user)==null?void 0:x.favoritesArr)||[],g=(a,c)=>{h(c)};return e.jsxs(e.Fragment,{children:[u&&e.jsx(G,{}),!u&&e.jsxs(e.Fragment,{children:[e.jsx(I,{children:i.notices.length>0?i.notices.map(({_id:a,...c})=>e.jsx(R,{id:a,...c,userFavoritesArr:p},a)):e.jsx(O,{})}),e.jsx(Q,{count:Math.ceil(i.totalCount/l),page:s,onChange:g,color:"primary"})]}),d&&d.message]})}const T={to1:!1,to2:!1,from2:!1,female:!1,male:!1},W=()=>{const[r,m]=j(),[s,h]=t.useState(T),[l,o]=t.useState({}),i=A(),d=F(),u=t.useMemo(()=>Object.fromEntries([...r]),[r]);t.useEffect(()=>{m({...l,...E(s.to1,s.to2,s.from2,s.female,s.male)})},[s,u,m,l,r]),t.useEffect(()=>{i.pathname==="/notices"&&d("/notices/sell")},[]);const f=n=>{o(n?{query:n}:{})};return e.jsx(C,{children:e.jsxs(y,{children:[e.jsx(L,{children:"Find your favorite pet"}),e.jsx("div",{children:e.jsx(b,{onSubmit:f})}),e.jsxs(M,{children:[e.jsx(w,{searchParams:r}),e.jsx("div",{children:e.jsxs(V,{children:[e.jsx(k,{setCheckboxValue:h,checkboxValue:s}),e.jsx(z,{state:{from:i}})]})})]}),e.jsx(B,{})]})})};function D(){return e.jsx(W,{})}export{D as default};
