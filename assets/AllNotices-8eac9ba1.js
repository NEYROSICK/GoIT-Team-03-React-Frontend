import{a as E,u as F,r as i,z as S,k as z,f as C,j as e,h}from"./index-96ad932d.js";import{N as I,a as f}from"./AllNotices.styled-348db6cd.js";import{L as b}from"./Loader-d7b1e6ae.js";import{a as k}from"./selectors-51ca07e4.js";import{N as G,a as M}from"./noticeList.styled-fd60f960.js";import{S as O}from"./StyledPagination.styled-b33cf9f5.js";import"./notiflix-notify-aio-1fd8f9b2.js";import"./AttentionModalWrapper-a6a2f8f1.js";function J(){const{pathname:p}=E(),g=p.split("/")[2],[j]=F(),x=Object.fromEntries(j.entries()),[n,N]=i.useState(1),[c,a]=i.useState(12);i.useEffect(()=>{const t=()=>{const s=window.innerWidth;s<=768?a(11):s<=1024?a(10):a(12)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]);const{data:r,error:u,isLoading:m}=S({category:g,params:{page:n,limit:c,...x}}),d=z(k),{data:o}=C(void 0,{skip:!d});let l=[];d&&o&&o.user&&(l=o.user.favoritesArr);const P=(t,s)=>{N(s)};return e.jsxs(e.Fragment,{children:[m&&e.jsx(b,{}),!m&&e.jsxs(e.Fragment,{children:[e.jsx(G,{children:r.notices.length>0?r.notices.map(({_id:t,title:s,category:v,date:w,sex:L,location:y,avatarURL:A})=>e.jsx(M,{id:t,title:s,category:v,date:w,sex:L,location:y,avatarUrl:A,userFavoritesArr:l},t)):e.jsxs(I,{children:[e.jsx(f,{children:e.jsx("use",{href:h+"#iconPaw"})})," ","No Notices found"," ",e.jsx(f,{children:e.jsx("use",{href:h+"#iconPaw"})})]})}),r.notices.length!==0&&e.jsx(O,{count:Math.floor(r.totalCount/c),page:n,onChange:P,color:"primary"})]}),u&&u.message]})}export{J as default};
