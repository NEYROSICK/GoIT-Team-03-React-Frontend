import{u as N,r as t,F as C,k as w,z as b,f as E,j as e,h as j,a as y,b as L,C as M}from"./index-6555f7ab.js";import{N as V}from"./NoticesSearch-61c48f0b.js";import{A as k,N as z,P as I,F as O,a as Q,b as D,c as G,d as R}from"./AddPetButton-ac010f33.js";import{N as B,a as p}from"./AllNotices.styled-1607361a.js";import{L as T}from"./Loader-ca3920f0.js";import{N as U,a as W}from"./noticeList.styled-653373fc.js";import{S as H}from"./StyledPagination.styled-baa8adcf.js";import"./AttentionModalWrapper-b2e623dd.js";import"./notiflix-notify-aio-4ba589ba.js";function J(){const[r]=N(),u=Object.fromEntries(r.entries()),[s,f]=t.useState(1),[c,o]=t.useState(12);t.useEffect(()=>{const a=()=>{const n=window.innerWidth;n<=768?o(11):n<=1024?o(10):o(12)};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]);const{data:i,error:d,isLoading:m}=C({params:{page:s,limit:c,...u}});let h=[];const l=w(b),{data:x}=E(void 0,{skip:!l});l&&x&&x.user&&(h=x.user.favoritesArr);const g=(a,n)=>{f(n)};return e.jsxs(e.Fragment,{children:[m&&e.jsx(T,{}),!m&&e.jsxs(e.Fragment,{children:[e.jsx(U,{children:i.notices.length>0?i.notices.map(({_id:a,title:n,category:P,date:v,sex:F,location:S,avatarURL:A})=>e.jsx(W,{id:a,title:n,category:P,date:v,sex:F,location:S,avatarUrl:A,userFavoritesArr:h,showDelete:!0},a)):e.jsxs(B,{children:[e.jsx(p,{children:e.jsx("use",{href:j+"#iconPaw"})})," ","No Notices found"," ",e.jsx(p,{children:e.jsx("use",{href:j+"#iconPaw"})})]})}),e.jsx(H,{count:Math.ceil(i.totalCount/c),page:s,onChange:g,color:"primary"})]}),d&&d.message]})}const K={to1:!1,to2:!1,from2:!1,female:!1,male:!1},X=()=>{const[r,u]=N(),[s,f]=t.useState(K),[c,o]=t.useState({}),i=y(),d=L(),m=t.useMemo(()=>Object.fromEntries([...r]),[r]);t.useEffect(()=>{u({...c,...k(s.to1,s.to2,s.from2,s.female,s.male)})},[s,m,u,c,r]),t.useEffect(()=>{i.pathname==="/notices"&&d("/notices/sell")},[]);const h=l=>{o(l?{query:l}:{})};return e.jsx(M,{children:e.jsxs(z,{children:[e.jsx(I,{children:"Find your favorite pet"}),e.jsx("div",{children:e.jsx(V,{onSubmit:h})}),e.jsxs(O,{children:[e.jsx(Q,{searchParams:r}),e.jsx("div",{children:e.jsxs(D,{children:[e.jsx(G,{setCheckboxValue:f,checkboxValue:s}),e.jsx(R,{state:{from:i}})]})})]}),e.jsx(J,{})]})})};function re(){return e.jsx(X,{})}export{re as default};
