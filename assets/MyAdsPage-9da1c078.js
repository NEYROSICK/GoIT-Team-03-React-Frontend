import{u as j,r as t,F as v,k as N,z as P,f as S,j as e,a as A,b as F,C}from"./index-7dda0c14.js";import{N as b}from"./NoticesSearch-eccbbf5c.js";import{A as E,N as w,P as y,F as L,a as M,b as V,c as k,d as z}from"./filtersQueries-9b8bc02d.js";import{N as O,S as Q}from"./NoMatchesFound-a926fae5.js";import{L as G}from"./Loader-8a57c26e.js";import{N as I,a as R}from"./noticeList.styled-6c43807a.js";import"./AttentionModalWrapper-0ba5e056.js";import"./AllNotices.styled-06a434b0.js";import"./notiflix-notify-aio-e40dfa8f.js";function B(){var x;const[r]=j(),m=Object.fromEntries(r.entries()),[s,f]=t.useState(1),[l,o]=t.useState(12);t.useEffect(()=>{const a=()=>{const c=window.innerWidth;c<=768?o(11):c<=1024?o(10):o(12)};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]);const{data:i,error:u,isLoading:d}=v({params:{page:s,limit:l,...m}}),h=N(P),{data:n}=S(void 0,{skip:!h}),p=h&&((x=n==null?void 0:n.user)==null?void 0:x.favoritesArr)||[],g=(a,c)=>{f(c)};return e.jsxs(e.Fragment,{children:[d&&e.jsx(G,{}),!d&&e.jsxs(e.Fragment,{children:[e.jsx(I,{children:i.notices.length>0?i.notices.map(({_id:a,...c})=>e.jsx(R,{id:a,...c,userFavoritesArr:p,showDelete:!0},a)):e.jsx(O,{})}),e.jsx(Q,{count:Math.ceil(i.totalCount/l),page:s,onChange:g,color:"primary"})]}),u&&u.message]})}const T={to1:!1,to2:!1,from2:!1,female:!1,male:!1},W=()=>{const[r,m]=j(),[s,f]=t.useState(T),[l,o]=t.useState({}),i=A(),u=F(),d=t.useMemo(()=>Object.fromEntries([...r]),[r]);t.useEffect(()=>{m({...l,...E(s.to1,s.to2,s.from2,s.female,s.male)})},[s,d,m,l,r]),t.useEffect(()=>{i.pathname==="/notices"&&u("/notices/sell")},[]);const h=n=>{o(n?{query:n}:{})};return e.jsx(C,{children:e.jsxs(w,{children:[e.jsx(y,{children:"Find your favorite pet"}),e.jsx("div",{children:e.jsx(b,{onSubmit:h})}),e.jsxs(L,{children:[e.jsx(M,{searchParams:r}),e.jsx("div",{children:e.jsxs(V,{children:[e.jsx(k,{setCheckboxValue:f,checkboxValue:s}),e.jsx(z,{state:{from:i}})]})})]}),e.jsx(B,{})]})})};function q(){return e.jsx(W,{})}export{q as default};
