import{u as g,r as t,B as C,k as w,f as b,j as e,h as j,a as E,b as y,C as L}from"./index-dc97b1b7.js";import{N as M}from"./NoticesSearch-8cc2410a.js";import{A as V,N as k,P as z,F as I,a as O,b as Q,c as B,d as D}from"./AddPetButton-11afdb63.js";import{N as G,a as p}from"./AllNotices.styled-c60db146.js";import{L as R}from"./Loader-869fff53.js";import{N as T,a as U}from"./noticeList.styled-38f3d20b.js";import{a as W}from"./selectors-51ca07e4.js";import{S as H}from"./StyledPagination.styled-c7abbfb8.js";import"./AttentionModalWrapper-fb76a061.js";import"./notiflix-notify-aio-6e17014f.js";function J(){const[o]=g(),u=Object.fromEntries(o.entries()),[s,h]=t.useState(1),[c,i]=t.useState(12);t.useEffect(()=>{const r=()=>{const n=window.innerWidth;n<=768?i(11):n<=1024?i(10):i(12)};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]);const{data:a,error:m,isLoading:d}=C({params:{page:s,limit:c,...u}});let f=[];const l=w(W),{data:x}=b(void 0,{skip:!l});l&&x&&x.user&&(f=x.user.favoritesArr);const N=(r,n)=>{h(n)};return e.jsxs(e.Fragment,{children:[d&&e.jsx(R,{}),!d&&e.jsxs(e.Fragment,{children:[e.jsx(T,{children:a.notices.length>0?a.notices.map(({_id:r,title:n,category:P,date:v,sex:S,location:A,avatarURL:F})=>e.jsx(U,{id:r,title:n,category:P,date:v,sex:S,location:A,avatarUrl:F,userFavoritesArr:f,showDelete:!0},r)):e.jsxs(G,{children:[e.jsx(p,{children:e.jsx("use",{href:j+"#iconPaw"})})," ","No Notices found"," ",e.jsx(p,{children:e.jsx("use",{href:j+"#iconPaw"})})]})}),a.notices.length!==0&&e.jsx(H,{count:Math.floor(a.totalCount/c),page:s,onChange:N,color:"primary"})]}),m&&m.message]})}const K={to1:!1,to2:!1,from2:!1,female:!1,male:!1},X=()=>{const[o,u]=g(),[s,h]=t.useState(K),[c,i]=t.useState({}),a=E(),m=y(),d=t.useMemo(()=>Object.fromEntries([...o]),[o]);t.useEffect(()=>{u({...c,...V(s.to1,s.to2,s.from2,s.female,s.male)})},[s,d,u,c,o]),t.useEffect(()=>{a.pathname==="/notices"&&m("/notices/sell")},[]);const f=l=>{i(l?{query:l}:{})};return e.jsx(L,{children:e.jsxs(k,{children:[e.jsx(z,{children:"Find your favorite pet"}),e.jsx("div",{children:e.jsx(M,{onSubmit:f})}),e.jsxs(I,{children:[e.jsx(O,{searchParams:o}),e.jsx("div",{children:e.jsxs(Q,{children:[e.jsx(B,{setCheckboxValue:h,checkboxValue:s}),e.jsx(D,{state:{from:a}})]})})]}),e.jsx(J,{})]})})};function oe(){return e.jsx(X,{})}export{oe as default};
