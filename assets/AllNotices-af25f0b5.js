import{a as F,u as S,r as n,D as C,k as z,z as O,f as I,j as e,h as l}from"./index-63556afd.js";import{N as M,a as f}from"./AllNotices.styled-c3335c5c.js";import{L as b}from"./Loader-d73743f0.js";import{N as k,a as D}from"./noticeList.styled-fc9a8c41.js";import{S as G}from"./StyledPagination.styled-31bfb859.js";import"./notiflix-notify-aio-80258f64.js";import"./AttentionModalWrapper-d7422424.js";function J(){const{pathname:p}=F(),g=p.split("/")[2],[j]=S(),x=Object.fromEntries(j.entries()),[i,N]=n.useState(1),[c,r]=n.useState(12);n.useEffect(()=>{const t=()=>{const s=window.innerWidth;s<=768?r(11):s<=1024?r(10):r(12)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]);const{data:a,error:u,isLoading:d}=C({category:g,params:{page:i,limit:c,...x},refetchOnMountOrArgChange:!0}),m=z(O),{data:o}=I(void 0,{skip:!m});let h=[];m&&o&&o.user&&(h=o.user.favoritesArr);const P=(t,s)=>{N(s)};return e.jsxs(e.Fragment,{children:[d&&e.jsx(b,{}),!d&&e.jsxs(e.Fragment,{children:[e.jsx(k,{children:a.notices.length>0?a.notices.map(({_id:t,title:s,category:v,date:w,sex:L,location:y,age:A,avatarURL:E})=>e.jsx(D,{id:t,title:s,category:v,date:w,sex:L,location:y,avatarUrl:E,age:A,userFavoritesArr:h},t)):e.jsxs(M,{children:[e.jsx(f,{children:e.jsx("use",{href:l+"#iconPaw"})})," ","No Notices found"," ",e.jsx(f,{children:e.jsx("use",{href:l+"#iconPaw"})})]})}),e.jsx(G,{count:Math.ceil(a.totalCount/c),page:i,onChange:P,color:"primary"})]}),u&&u.message]})}export{J as default};
