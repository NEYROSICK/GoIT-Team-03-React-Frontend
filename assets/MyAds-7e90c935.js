import{d as A,r as n,A as y,a as E,i as L,j as e}from"./index-2056a480.js";import{N,a as S}from"./noticeList.styled-b181473b.js";import{s as C}from"./selectors-9c63f203.js";import{S as F}from"./StyledPagination.styled-2194736a.js";import"./notiflix-notify-aio-63da1fd4.js";function I(){const[h]=A(),f=Object.fromEntries(h.entries()),[o,g]=n.useState(1),[c,a]=n.useState(12);n.useEffect(()=>{const t=()=>{const s=window.innerWidth;s<=768?a(11):s<=1024?a(10):a(12)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]);const{data:r,error:d,isLoading:u}=y({params:{page:o,limit:c,...f}});let m=[];const l=E(C),{data:i}=L(void 0,{skip:!l});l&&i&&i.user&&(m=i.user.favoritesArr);const p=(t,s)=>{g(s)};return e.jsxs(e.Fragment,{children:[u&&e.jsx("div",{children:"Loading..."}),!u&&e.jsxs(e.Fragment,{children:[e.jsx(N,{children:r.notices.length>0?r.notices.map(({_id:t,title:s,category:j,date:v,sex:x,location:w,avatarURL:P})=>e.jsx(S,{id:t,title:s,category:j,date:v,sex:x,location:w,avatarUrl:P,userFavoritesArr:m,showDelete:!0},t)):e.jsx("div",{children:"No Notices found"})}),r.notices.length!==0&&e.jsx(F,{count:Math.floor(r.totalCount/c),page:o,onChange:p,color:"primary"})]}),d&&d.message]})}export{I as default};
