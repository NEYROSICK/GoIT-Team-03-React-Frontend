import{d as E,r as o,z as F,a as L,i as N,j as e}from"./index-4b56af25.js";import{N as S,a as y}from"./noticeList.styled-57cac5ff.js";import{s as A}from"./selectors-9c63f203.js";import{S as z}from"./StyledPagination.styled-eab9a567.js";import"./notiflix-notify-aio-d99adde1.js";import"./AttentionModalWrapper-086f9653.js";function Q(){const[h]=E(),f=Object.fromEntries(h.entries()),[n,g]=o.useState(1),[c,a]=o.useState(12);o.useEffect(()=>{const t=()=>{const s=window.innerWidth;s<=768?a(11):s<=1024?a(10):a(12)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]);const{data:r,error:d,isLoading:u}=F({params:{page:n,limit:c,...f}});let m=[];const l=L(A),{data:i}=N(void 0,{skip:!l});l&&i&&i.user&&(m=i.user.favoritesArr);const p=(t,s)=>{g(s)};return e.jsxs(e.Fragment,{children:[u&&e.jsx("div",{children:"Loading..."}),!u&&e.jsxs(e.Fragment,{children:[e.jsx(S,{children:r.notices.length>0?r.notices.map(({_id:t,title:s,category:v,date:j,sex:x,location:P,avatarURL:w})=>e.jsx(y,{id:t,title:s,category:v,date:j,sex:x,location:P,avatarUrl:w,userFavoritesArr:m},t)):e.jsx("div",{children:"No Notices found"})}),r.notices.length!==0&&e.jsx(z,{count:Math.floor(r.totalCount/c),page:n,onChange:p,color:"primary"})]}),d&&d.message]})}export{Q as default};
